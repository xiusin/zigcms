//! é¢†åŸŸå±‚å…¥å£æ–‡ä»¶
//!
//! èŒè´£ï¼š
//! - å®šä¹‰æ ¸å¿ƒä¸šåŠ¡å®ä½“å’Œå€¼å¯¹è±¡
//! - å®ç°ä¸šåŠ¡è§„åˆ™å’Œçº¦æŸ
//! - å®šä¹‰é¢†åŸŸæœåŠ¡æ¥å£
//! - æä¾›ä¸šåŠ¡å®ä½“çš„ä»“å‚¨æ¥å£

const std = @import("std");
const logger = @import("../application/services/logger/logger.zig");

// ============================================================================
// å¯¼å‡ºé¢†åŸŸå±‚æ¨¡å—
// ============================================================================

/// ä¸šåŠ¡å®ä½“æ¨¡å‹
pub const entities = @import("entities/models.zig");

/// é¢†åŸŸæœåŠ¡ï¼ˆä¸šåŠ¡è§„åˆ™å’Œé€»è¾‘ï¼‰
pub const services = @import("services/mod.zig");

/// ä»“åº“æ¥å£ï¼ˆæ•°æ®è®¿é—®å¥‘çº¦ï¼‰
pub const repositories = @import("repositories/mod.zig");

// ============================================================================
// é¢†åŸŸå±‚é…ç½®
// ============================================================================

/// é¢†åŸŸå±‚é…ç½®
pub const DomainConfig = struct {
    /// æ˜¯å¦éªŒè¯æ¨¡å‹
    validate_models: bool = true,
    /// æ˜¯å¦å¼ºåˆ¶æ‰§è¡Œä¸šåŠ¡è§„åˆ™
    enforce_business_rules: bool = true,
};

// ============================================================================
// åˆå§‹åŒ–å’Œæ¸…ç†
// ============================================================================

/// é¢†åŸŸå±‚åˆå§‹åŒ–å‡½æ•°
pub fn init(allocator: std.mem.Allocator, config: DomainConfig) !void {
    _ = allocator;
    std.debug.print("âœ… é¢†åŸŸå±‚åˆå§‹åŒ–å®Œæˆ\n", .{});

    // åˆå§‹åŒ–å®ä½“æ¨¡å‹
    _ = entities;

    // åˆå§‹åŒ–é¢†åŸŸæœåŠ¡
    _ = services;

    // åˆå§‹åŒ–ä»“åº“æ¥å£
    _ = repositories;
}

/// é¢†åŸŸå±‚æ¸…ç†å‡½æ•°
pub fn deinit() void {
    std.debug.print("ğŸ‘‹ é¢†åŸŸå±‚å·²æ¸…ç†\n", .{});
}
