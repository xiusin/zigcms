#!/bin/sh
# =============================================================================
# ZigCMS 脚本配置文件
# =============================================================================
# 这个文件包含了所有脚本的默认配置
# POSIX 兼容，支持 macOS 和 Linux
# =============================================================================

# =============================================================================
# 构建配置
# =============================================================================

# 默认构建模式 (debug/release/fast/small)
DEFAULT_BUILD_MODE="${DEFAULT_BUILD_MODE:-debug}"

# 默认构建超时时间（秒）
BUILD_TIMEOUT="${BUILD_TIMEOUT:-600}"

# 交叉编译目标平台
CROSS_TARGETS="${CROSS_TARGETS:-x86_64-linux aarch64-linux}"

# 构建产物保留数量
KEEP_BUILD_ARTIFACTS="${KEEP_BUILD_ARTIFACTS:-5}"

# =============================================================================
# 开发环境配置
# =============================================================================

# 默认开发服务器配置
DEV_HOST="${DEV_HOST:-127.0.0.1}"
DEV_PORT="${DEV_PORT:-8080}"

# 文件监听排除模式
WATCH_EXCLUDE=".zig-cache zig-out logs *.log tmp *.tmp .git node_modules *.db*"

# 热重载延迟时间（秒）
HOT_RELOAD_DELAY="${HOT_RELOAD_DELAY:-2}"

# =============================================================================
# 测试配置
# =============================================================================

# 默认测试类型
DEFAULT_TEST_TYPE="${DEFAULT_TEST_TYPE:-unit}"

# 测试超时时间（秒）
TEST_TIMEOUT="${TEST_TIMEOUT:-300}"

# 覆盖率报告目录
COVERAGE_DIR="${COVERAGE_DIR:-coverage}"

# =============================================================================
# 清理配置
# =============================================================================

# 默认清理目标
DEFAULT_CLEAN_TARGET="${DEFAULT_CLEAN_TARGET:-all}"

# 日志文件保留天数
LOG_RETENTION_DAYS="${LOG_RETENTION_DAYS:-7}"

# 是否启用激进清理模式
AGGRESSIVE_CLEAN="${AGGRESSIVE_CLEAN:-false}"

# =============================================================================
# 依赖和环境配置
# =============================================================================

# Zig 版本要求
REQUIRED_ZIG_VERSION="${REQUIRED_ZIG_VERSION:-0.13.0}"

# 是否自动安装缺失依赖
AUTO_INSTALL_DEPS="${AUTO_INSTALL_DEPS:-true}"

# 网络超时时间（秒）
NETWORK_TIMEOUT="${NETWORK_TIMEOUT:-30}"

# 最大重试次数
MAX_RETRY_ATTEMPTS="${MAX_RETRY_ATTEMPTS:-3}"

# =============================================================================
# 日志配置
# =============================================================================

# 日志级别 (debug/info/warn/error)
LOG_LEVEL="${LOG_LEVEL:-info}"

# 日志文件位置
LOG_FILE="${LOG_FILE:-logs/scripts.log}"

# 日志轮转大小 (MB)
LOG_ROTATE_SIZE="${LOG_ROTATE_SIZE:-10}"

# 保留日志文件数量
LOG_RETENTION_COUNT="${LOG_RETENTION_COUNT:-5}"

# =============================================================================
# 输出配置
# =============================================================================

# 是否启用彩色输出 (自动检测终端)
# 设置 NO_COLOR=1 禁用彩色输出
# NO_COLOR="${NO_COLOR:-}"

# 是否启用详细输出
# VERBOSE="${VERBOSE:-false}"
